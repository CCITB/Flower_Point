<!-- 곽승지 무단 수정 금지 -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>꽃갈피</title>
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/myqna.css">

</head>
<body>
  @include('lib.header')
  <div class="hr-line">
    <div id="line">
      <h2>나의 QnA</h2>
      <hr>
    </div>
  </div>

  <div class="frequently">
    <div class="frequently-qna">
      <table class="qna-table">
        <thead>
          <tr>
            <th>번호</th>
            <th>문의/답변</th>
            <th>답변상태</th>
            <th>작성자</th>
            <th>작성일</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="qna-index">1</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">2</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">3</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">4</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">5</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">6</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">7</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">8</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">9</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">10</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">11</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">12</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">13</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">14</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">15</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">16</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">17</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">18</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">19</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">20</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
          <tr>
            <td class="qna-index">21</td>
            <td class="qna-content">내용</td>
            <td class="qna-condition">답변완료</td>
            <td class="qna-writer">ccit1</td>
            <td class="qna-date">2020.01.01</td>
          </tr>
        </tbody>

      </table>
      <!-- <div class="nav-page" id="paging">
      <nav>
      <a href="#" class="active">1</a>
    </nav>
    <nav>
    2
  </nav>
  <nav>
  3
</nav>
<nav>
4
</nav>
<nav>
5
</nav>
</div> -->
<div class ="nav-page" id="paging">
  <ul class="pagination" >
  </ul>
</div>
</div>
</div>

@include('lib.footer')

<script src="https://code.jquery.com/jquery-2.2.1.js"></script>
<script>

// var totalData = 100;    // 총 데이터 수
// var dataPerPage = 10;    // 한 페이지에 나타낼 데이터 수
// var pageCount = 5;        // 한 화면에 나타낼 페이지 수
//
// function paging(totalData, dataPerPage, pageCount, currentPage){
//
//   console.log("currentPage : " + currentPage);
//
//   var totalPage = Math.ceil(totalData/dataPerPage);    // 총 페이지 수
//   var pageGroup = Math.ceil(currentPage/pageCount);    // 페이지 그룹
//
//   const pages= $("#paging");
//   pages.empty();
//
//   console.log("pageGroup : " + pageGroup);
//
//   var last = pageGroup * pageCount;    // 화면에 보여질 마지막 페이지 번호
//   if(last > totalPage)
//   last = totalPage;
//   var first = last - (pageCount-1);    // 화면에 보여질 첫번째 페이지 번호
//   var next = last+1;
//   var prev = first-1;
//
//   console.log("last : " + last);
//   console.log("first : " + first);
//   console.log("next : " + next);
//   console.log("prev : " + prev);
//
//   var $pingingView = $("#paging");
//
//   var html = "";
//
//   if(prev > 0)
//   html += "<a href=# id='prev'><</a> ";
//
//   for(var i=first; i <= last; i++){
//     html += "<a href='#' id=" + i + ">" + i + "</a> ";
//   }
//
//   if(last < totalPage)
//   html += "<a href=# id='next'>></a>";
//
//   $("#paging").html(html);    // 페이지 목록 생성
//   $("#paging a").css("color", "black");
//   $("#paging a#" + currentPage).css({"text-decoration":"none",
//   "color":"red",
//   "font-weight":"bold"});    // 현재 페이지 표시
//
//   $("#paging a").click(function(){
//
//     var $item = $(this);
//     var $id = $item.attr("id");
//     var selectedPage = $item.text();
//
//     if($id == "next")    selectedPage = next;
//     if($id == "prev")    selectedPage = prev;
//
//     paging(totalData, dataPerPage, pageCount, selectedPage);
//   });
//
// }
//
// $("document").ready(function(){
//   paging(totalData, dataPerPage, pageCount, 1);
// });

function pagination(){
		var req_num_row=5;
		var $tr=jQuery('tbody tr');
		var total_num_row=$tr.length;
		var num_pages=0;
		if(total_num_row % req_num_row ==0){
			num_pages=total_num_row / req_num_row;
		}
		if(total_num_row % req_num_row >=1){
			num_pages=total_num_row / req_num_row;
			num_pages++;
			num_pages=Math.floor(num_pages++);
		}

    jQuery('.pagination').append("<li><a class=\"prev\">Previous</a></li>");

		for(var i=1; i<=num_pages; i++){
			jQuery('.pagination').append("<li><a>"+i+"</a></li>");
      jQuery('.pagination li:nth-child(2)').addClass("active");
      jQuery('.pagination a').addClass("pagination-link");
		}

    jQuery('.pagination').append("<li><a class=\"next\">Next</a></li>");

		$tr.each(function(i){
      jQuery(this).hide();
      if(i+1 <= req_num_row){
				$tr.eq(i).show();
			}
		});

		jQuery('.pagination a').click('.pagination-link', function(e){
			e.preventDefault();
			$tr.hide();
			var page=jQuery(this).text();
			var temp=page-1;
			var start=temp*req_num_row;
      var current_link = temp;

      jQuery('.pagination li').removeClass("active");
			jQuery(this).parent().addClass("active");

			for(var i=0; i< req_num_row; i++){
				$tr.eq(start+i).show();
			}

      if(temp >= 1){
        jQuery('.pagination li:first-child').removeClass("disabled");
      }
      else {
        jQuery('.pagination li:first-child').addClass("disabled");
      }

		});

    jQuery('.prev').click(function(e){
        e.preventDefault();
        jQuery('.pagination li:first-child').removeClass("active");
    });

    jQuery('.next').click(function(e){
        e.preventDefault();
        jQuery('.pagination li:last-child').removeClass("active");
    });

	}

jQuery('document').ready(function(){
	pagination();

  jQuery('.pagination li:first-child').addClass("disabled");

});
</script>
</body>
</html>

<!-- var totalData = 1000;    // 총 데이터 수
var dataPerPage = 5;    // 한 페이지에 나타낼 데이터 수
var pageCount = 5;        // 한 화면에 나타낼 페이지 수

function paging(totalData, dataPerPage, pageCount, currentPage){

console.log("currentPage : " + currentPage);

var totalPage = Math.ceil(totalData/dataPerPage);    // 총 페이지 수
var pageGroup = Math.ceil(currentPage/pageCount);    // 페이지 그룹

console.log("pageGroup : " + pageGroup);

var last = pageGroup * pageCount;    // 화면에 보여질 마지막 페이지 번호
if(last > totalPage)
last = totalPage;
var first = last - (pageCount-1);    // 화면에 보여질 첫번째 페이지 번호
var next = last+1;
var prev = first-1;

console.log("last : " + last);
console.log("first : " + first);
console.log("next : " + next);
console.log("prev : " + prev);

if(totalPage < 1){
first=last;
}
const pages= $("#paging");
pages.empty();

if (first >5){
pages.append("<li class=\"pagination-item\">" + "<a onclick=\"GetTarget(" + (prev)+ ");\" style='margin-left:2px'>prev</a></li>");
}
for (let j = first; j<= last; j++){
if (currentPage === (j)){
pages.append("<li class=\"pagination-item\">" + "<a class='active' onclick=\"GetTarget(" + (j)+ ");\" style='margin-left:2px'>" + (j) + "</a></li>");
} else if (j>0){
pages.append("<li class=\"pagination-item\">" + "<a onclick=\"GetTarget(" + (j)+ ");\" style='margin-left:2px'>" + (j) + "</a></li>");
}
}
if (next > 5 && next < totalPage){
pages.append("<li class=\"pagination-item\">" + "<a onclick=\"GetTarget(" + (next)+ ");\" style='margin-left:2px'>next</a></li>");
}
} -->
